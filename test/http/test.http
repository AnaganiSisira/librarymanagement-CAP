### BorrowingInfo
# @name BorrowingInfo_PATCH
PATCH http://localhost:4004/odata/v4/library-management/BorrowingInfo/b8db3f87-c08a-484a-9e8e-285b028fb31d
Content-Type: application/json
{
  "status": "RETURNED"
}

### Try Borrowing a Book Without Borrow/Due Date (Should Fail)
POST http://localhost:4004/odata/v4/library-management/BorrowingInfo
Content-Type: application/json

{
  "member_ID": "a1a1b1c1-d1e1-41a1-a1b1-c1d1e1a1a1b1",
  "bookCopy_ID": "08a1ff87-ef57-4b08-cf7d-82e2ff620b26",
  "status": "BORROWED"
}

###  Borrow a Book When Copies Are Available (Should Pass)
POST http://localhost:4004/odata/v4/library-management/BorrowingInfo
Content-Type: application/json

{
  "member_ID": "a1a1b1c1-d1e1-41a1-a1b1-c1d1e1a1a1b1",
  "bookCopy_ID": "19b2ff98-ff68-4c19-df8e-93f3ff730b27",
  "borrowDate": "2025-10-16",
  "dueDate": "2025-10-25",
  "status": "BORROWED"
}


### Borrow a Book When No Copies Available (Should Fail)
POST http://localhost:4004/odata/v4/library-management/BorrowingInfo
Content-Type: application/json

{
  "member_ID": "a1a1b1c1-d1e1-41a1-a1b1-c1d1e1a1a1b1",
  "bookCopy_ID": "08a1ff87-ef57-4b08-cf7d-82e2ff620b26",
  "borrowDate": "2025-10-16",
  "dueDate": "2025-10-25",
  "status": "BORROWED"
}



###  Return a Book Without Return Date (Should Fail)
PATCH http://localhost:4004/odata/v4/library-management/BorrowingInfo(33b8ac4e-ab7f-49f1-bace-6809658b02ea)
Content-Type: application/json

{
  "status": "RETURNED"
}


### Return a Book Properly (Should Pass)
PATCH http://localhost:4004/odata/v4/library-management/BorrowingInfo(33b8ac4e-ab7f-49f1-bace-6809658b02ea)
Content-Type: application/json

{
  "status": "RETURNED",
  "returnDate": "2025-10-20"
}


### Set Available Copies Negative (Should Fail)
PATCH http://localhost:4004/odata/v4/library-management/Books(1da17a97-56b6-4abf-9f54-e39f91917153)
Content-Type: application/json

{
  "availableCopies": -1
}


###  Set Available Copies Greater Than Total Copies (Should Fail)
PATCH http://localhost:4004/odata/v4/library-management/Books(1da17a97-56b6-4abf-9f54-e39f91917153)
Content-Type: application/json

{
  "availableCopies": 20,
  "totalCopies": 10
}


###  Verify Updated Book Data
GET http://localhost:4004/odata/v4/library-management/Books
Accept: application/json

### Get All Copies of a Specific Book
GET http://localhost:4004/odata/v4/library-management/BookCopies?$filter=status eq 'AVAILABLE'
Accept: application/json

### Try Borrowing a Book When All Copies Are Already Borrowed (Should Fail)
POST http://localhost:4004/odata/v4/library-management/borrowBook
Content-Type: application/json

{
  "memberID": "a1a1b1c1-d1e1-41a1-a1b1-c1d1e1a1a1b1",
  "bookCopyID": "b2b2c2d2-e2f2-42b2-b2c2-d2e2f2b2b2c1",
  "borrowDate": "2025-10-27",
  "dueDate": "2025-11-10"
}


### Return One of the Borrowed Copies (Should Pass)
PATCH http://localhost:4004/odata/v4/library-management/BorrowingInfo(012e11f9-49a1-4093-a284-567ca0c5cdec)
Content-Type: application/json

{
  "status": "RETURNED",
  "returnDate": "2025-10-20"
}

### Borrow Again After Copy Returned (Should Pass)
POST http://localhost:4004/odata/v4/library-management/borrowBook
Content-Type: application/json

{
  "memberID": "b2b2c2d2-e2f2-42b2-b2c2-d2e2f2b2b2c2",
  "bookCopyID": "e5e5f5a5-b5c5-45e5-e5f5-a5b5c5e5e5f5",
  "borrowDate": "2025-10-27",
  "dueDate": "2025-11-10"
}




### Return borrowed book
PATCH http://localhost:4004/odata/v4/library-management/BorrowingInfo(012e11f9-49a1-4093-a284-567ca0c5cdec)
Content-Type: application/json

{
  "status": "RETURNED",
  "returnDate": "2025-10-20"
}

### Count how many times a specific book has been borrowed
GET http://localhost:4004/odata/v4/library-management/BorrowingInfo/$count?$filter=bookCopy_ID eq '1c2d3e4f-5a6b-4c7d-8e9f-0a1b2c3d4e5f' and status eq 'BORROWED'
Accept: text/plainboo

### Count how many times a specific book has been borrowed
GET http://localhost:4004/odata/v4/library-management/BorrowingInfo/$count?$filter=bookCopy_ID eq '1c2d3e4f-5a6b-4c7d-8e9f-0a1b2c3d4e5f' and status eq 'RETURNED'
Accept: text/plainboo

###

POST http://localhost:4004/odata/v4/library-management/Members
Content-Type: application/json

{
  "firstName": "Ananya",
  "lastName": "Sharma",
  "email": "rahul.sharma@example.com",
  "phone": "+91-9876543210",
  "address": "45, Green Valley Apartments, Pune, Maharashtra",
  "membershipDate": "2025-10-27",
  "isActive": true
}


###
GET http://localhost:4004/odata/v4/library-management/BorrowingInfo

